# C/C++_programmin

## 目录
[返回主目录](https://github.com/NightBonsai/C-C-_programming/blob/main/README.md)

## 多态&虚函数

### 1.类指针的使用：
- *基类指针操作派生类对象（安全）*
- 派生类指针操作基类对象（危险）
- *声明类对象指针时不会调用构造&析构函数，不是真正构造了新的类对象*

### 2.基类对象→派生类对象的转换 ：
强制类型转换：<br>
- static_cast运算符（仅限派生类以public方式继承基类）
- 向下转型不安全,没有自动转换的机制
- 基类对象空间可能没派生类对象空间大，强转可能出问题

### *3.多态性*：

    程序根据具体不同的情况执行不同的操作
    有助于更好地对程序进行抽象
    控制模块能专注于一般性问题的处理
    具体的操作交给具体的对象去做
    有助于提高程序的可扩展性
        把控制模块与被操作的对象分开
	添加已定义类的新对象，并能管理该对象
	添加新类（已有类的派生类）的新对象，并能管理该对象

### *4.虚函数*：

    用关键字virtual声明的函数，用于实现动态联编，以此实现多态性
    只有通过基类指针或引用调用虚函数才能引发动态绑定(用基类指针指向派生类指针)
    在派生类中重新定义虚函数时，必须保证该函数的值和参数与基类中的说明完全一致，否则就属于重载
    若在派生类中没有重新定义虚函数，则该类的对象将使用其基类中的虚函数代码

    虚函数必须是类的一个成员函数，不能是友元
    虚函数可以是另一个类的友元
    虚函数不得是一个静态成员
		
### 5.虚析构函数：
- 如果要操作具有继承关系的类的动态对象，最好使用虚析构函数
- 特别是在析构函数需要完成一些有意义的操作——比如释放内存时

### *6.重载*：
- 在同一作用域内定义多个同名函数
- 要求这些函数具有参数的类型、类型个数or顺序不相同，返回值类型不影响

      作用域相同
      函数名相同
      参数不同
      virtual关键字可有可无
      返回值可以不同

### *7.重定义*：
- 派生类重新定义父类成员函数
- 发生在基类和派生类中，只要函数名一致就会重定义

      作用域不同
      函数名相同
      返回值可以不同
      参数不同时，无论有无virtual，基类的函数将被隐藏
      参数相同时，基类函数没有virtual，基类的函数被隐藏

### *8.重写*：
- 派生类重新定义基类纯虚函数
- 针对多态性，利用同一接口实现不同的实例

      作用域不同
      函数名相同
      参数相同
      基类函数必须有virtual关键字，不能有static
      返回值相同
      重写函数的访问修饰符可以不同（public，private，protected）
  
